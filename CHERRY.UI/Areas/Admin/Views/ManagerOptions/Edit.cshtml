@using CHERRY.Utilities
@model CHERRY.BUS.ViewModels.Options.OptionsUpdateVM
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "Edit";
    Layout = "~/Areas/Admin/Views/Shared/_layoutAdmin.cshtml";
    var dataoptions = ViewBag.Options as CHERRY.BUS.ViewModels.Options.OptionsVM;

}
<div class="edit-container">
    <h4>Chỉnh sửa phân loại 3</h4>
    <hr />
    <div class="row">
        <div class="col-md-9">
            <form asp-action="Edit" id="options_update" enctype="multipart/form-data" method="post">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <input value="@ViewBag.IDOptions" hidden id="idoptions" />
                <input asp-for="IDVariant" value="@ViewBag.IDVariant" hidden id="IDVariant" />
                <input asp-for="ModifieBy" value="@ViewBag.IDUser" hidden id="IDUser" />

                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label asp-for="CostPrice" class="control-label">Giá nhập vào</label>
                            <input id="CostPrice" value="@dataoptions.CostPrice" asp-for="CostPrice" type="number" class="form-control" />
                            <span asp-validation-for="CostPrice" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label asp-for="RetailPrice" class="control-label">Giá bán ra</label>
                            <input id="RetailPrice" value="@dataoptions.RetailPrice" asp-for="RetailPrice" type="number" class="form-control" />
                            <span asp-validation-for="RetailPrice" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label asp-for="DiscountedPrice" class="control-label">Giá khuyến mại</label>
                            <input id="DiscountedPrice" value="@dataoptions.DiscountedPrice" asp-for="DiscountedPrice" type="number" class="form-control" />
                            <span asp-validation-for="DiscountedPrice" class="text-danger"></span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label asp-for="StockQuantity" class="control-label">Số lượng</label>
                    <input id="StockQuantity" value="@dataoptions.StockQuantity" asp-for="StockQuantity" type="number" class="form-control" />
                    <span asp-validation-for="StockQuantity" class="text-danger"></span>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label asp-for="IDColor" class="control-label"></label>
                            <select asp-for="IDColor" class="form-control">
                                <option value="">Chọn</option>
                                @foreach (var color in ViewBag.Color)
                                {
                                    <option value="@color.ID">@color.Name</option>
                                }
                            </select>
                            <span asp-validation-for="IDColor" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label asp-for="ColorName" class="control-label"></label>
                            <input asp-for="ColorName" value="@dataoptions.ColorName" class="form-control" />
                            <span asp-validation-for="ColorName" class="text-danger"></span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label asp-for="IDSizes" class="control-label"></label>
                            <select asp-for="IDSizes" class="form-control">
                                <option value="">Chọn</option>
                                @foreach (var size in ViewBag.Size)
                                {
                                    <option value="@size.ID">@size.Name</option>
                                }
                            </select>
                            <span asp-validation-for="IDSizes" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label asp-for="SizesName" class="control-label"></label>
                            <input asp-for="SizesName" value="@dataoptions.SizeName" class="form-control" />
                            <span asp-validation-for="SizesName" class="text-danger"></span>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label asp-for="ImageURL" class="control-label">Hình ảnh</label>
                        @if (!string.IsNullOrEmpty(dataoptions.ImageURL))
                        {
                            <img src="@dataoptions.ImageURL" alt="Hình ảnh" style="max-width: 200px; max-height: 200px; margin-bottom: 10px;" />
                        }
                        <input asp-for="ImageURL" type="file" id="ImagePaths" class="form-control" />
                        <span asp-validation-for="ImageURL" class="text-danger"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label asp-for="Status" class="control-label">Trạng thái</label>
                    <select id="Status" asp-for="Status" asp-items="@GetStatusSelectList(dataoptions.Status)" class="form-control" data-initial-value="@GetStatusSelectList(dataoptions.Status)"></select>
                    <span asp-validation-for="Status" class="text-danger"></span>
                </div>

                <hr />
                <div class="form-group">
                    <input type="submit" value="Lưu Thay Đổi" class="btn btn-primary" />
                </div>
            </form>
        </div>
    </div>
</div>
@functions {
    public SelectList GetStatusSelectList(int selectedValue)
    {
        var statusList = new List<SelectListItem>
        {
            new SelectListItem { Value = "0", Text = "Ẩn" },
            new SelectListItem { Value = "1", Text = "Đăng bán" }
        };

        return new SelectList(statusList, "Value", "Text", selectedValue.ToString());
    }
}

<div>
    <a href="@Url.Action("Index")" class="back-to-list">Quay Lại Danh Sách</a>
</div>
<script src="/js/Options/options_update.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>